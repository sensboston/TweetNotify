<Window x:Class="TweetNotify.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:icon="https://github.com/nullsoftware/TrayIcon"
        xmlns:properties="clr-namespace:TweetNotify.Properties"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Visibility="Collapsed"
        Topmost="True"
        ShowInTaskbar="False"
        WindowStyle="SingleBorderWindow"
        ResizeMode="NoResize"
        Title="TweetNotify" 
        Height="600" 
        Width="390"
        Icon="/App.ico">

    <icon:TrayIconHandlers.TrayIcons>
        <icon:TrayIcon x:Name="trayIcon" Title="Tweet Notify"
                       IconSource="pack://application:,,,/App.ico"
                       Click="TrayIcon_ToggleVisibility"
                       NotificationServiceMemberPath="NotificationService">
            <icon:TrayIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="E_xit" Click="TrayIcon_Exit" />
                </ContextMenu>
            </icon:TrayIcon.ContextMenu>
        </icon:TrayIcon>
    </icon:TrayIconHandlers.TrayIcons>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="3*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" BorderBrush="{DynamicResource SystemControlPageTextBaseHighBrush}" CornerRadius="10" BorderThickness="1" Padding="5" Margin="5">
            <ListView x:Name="AccountsList" FontSize="18" Margin="0 10 0 0" MouseDoubleClick="AccountsList_MouseDoubleClick">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border BorderThickness="0,0,0,1" BorderBrush="#444">
                            <Grid Margin="5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="40"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" VerticalAlignment="Center" Text="{Binding TwitterHandle}" FontWeight="Bold" />

                                <ComboBox Grid.Column="2" HorizontalAlignment="Right" SelectedValuePath="Content" SelectedValue="{Binding NotificationMode, Mode=TwoWay}">
                                    <ComboBoxItem Content="View"/>
                                    <ComboBoxItem Content="Sound"/>
                                    <ComboBoxItem Content="View/Sound"/>
                                    <ComboBoxItem Content="Disabled"/>
                                </ComboBox>

                                <Button Grid.Column="4" Width="30" Height="30" FontFamily="Segoe MDL2 Assets" FontSize="14" Content="&#xE107;" Click="DeleteAccount_Click"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Border>
        <TextBlock Grid.Row="0" Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}" Foreground="{DynamicResource SystemControlPageTextBaseHighBrush}" Width="70" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left" Text="  Accounts" Margin="20 -12" FontSize="14"/>

        <Border Grid.Row="1" BorderBrush="{DynamicResource SystemControlPageTextBaseHighBrush}" CornerRadius="10" BorderThickness="1" Padding="5" Margin="5 10 5 0 ">
            <StackPanel Margin="5 10">

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                    <TextBlock Text="Theme:" Width="100" VerticalAlignment="Center"/>
                    <ComboBox Width="220" SelectedValuePath="Content" SelectedValue="{Binding Source={x:Static properties:Settings.Default}, Path=Theme, Mode=TwoWay}">
                        <ComboBoxItem Content="Dark"/>
                        <ComboBoxItem Content="Light"/>
                    </ComboBox>
                </StackPanel>


                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                    <TextBlock Text="Update (sec):" Width="100" VerticalAlignment="Center"/>
                    <ComboBox Width="220" SelectedValue="{Binding Source={x:Static properties:Settings.Default}, Path=UpdateTime, Mode=TwoWay}">
                        <ComboBox.ItemsSource>
                            <x:Array Type="sys:Int32" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                                <sys:Int32>1</sys:Int32>
                                <sys:Int32>2</sys:Int32>
                                <sys:Int32>3</sys:Int32>
                                <sys:Int32>4</sys:Int32>
                                <sys:Int32>5</sys:Int32>
                                <sys:Int32>10</sys:Int32>
                                <sys:Int32>15</sys:Int32>
                                <sys:Int32>20</sys:Int32>
                                <sys:Int32>25</sys:Int32>
                                <sys:Int32>30</sys:Int32>
                            </x:Array>
                        </ComboBox.ItemsSource>
                    </ComboBox>
                </StackPanel>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                    <TextBlock Text="Voice:" Width="100" VerticalAlignment="Center"/>
                    <ComboBox x:Name="VoiceComboBox" Width="220" SelectedValue="{Binding Source={x:Static properties:Settings.Default}, Path=Voice, Mode=TwoWay}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                    <TextBlock Text="Volume:" Width="100" VerticalAlignment="Center"/>
                    <Slider Width="220" Minimum="0" Maximum="100" Value="{Binding Source={x:Static properties:Settings.Default}, Path=Volume, Mode=TwoWay}" TickFrequency="10" IsSnapToTickEnabled="True"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="5">
                    <TextBlock Text="Cookie File:" Width="100" VerticalAlignment="Center"/>
                    <TextBlock x:Name="CookieFileTextBlock" Width="250" VerticalAlignment="Center" Text="No file selected"/>
                    <Button Content="Browse" Width="100" Click="BrowseCookieFile_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
        <TextBlock Grid.Row="1" Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}" Foreground="{DynamicResource SystemControlPageTextBaseHighBrush}" Width="64" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left" Text="  Settings" Margin="20 0" FontSize="14"/>

    </Grid>
</Window>
